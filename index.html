<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>База знаний 2040World</title>
    <link rel="stylesheet" href="Main_Site/assets/css/style.css">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline';">
</head>
<body>
    <div class="sidebar" id="sidebar">
        <div class="menu">
            <h2>Категории</h2>
            <ul>
                <li><a href="Main_Site/guides/Resources.html#resources">Ресурсы</a></li>
                <li><a href="Main_Site/guides/Resources.html#mobs">Мобы</a></li>
                <li><a href="Main_Site/guides/Resources.html#ores">Руда</a></li>
                <li><a href="Main_Site/guides/Avatars.html">Аватары</a></li>
                <li><a href="#">Оружие</a></li>
                <li><a href="#">Броня</a></li>
                <li><a href="#">Промышленность</a></li>
                <li><a href="#">Карты</a></li>
            </ul>
        </div>
    </div>

    <!-- Кнопка всегда видна на экране -->
    <button class="toggle-btn" id="toggle-btn" onclick="toggleMenu()">
        <span id="arrow">&rarr;</span>
    </button>

    <header>
        <h1>База знаний 2040World клана <span class="highlight">Legion 2040</span></h1>
        <div class="search-container">
            <input type="text" id="search-input" placeholder="Найди меня...">
            <div id="search-results" class="search-results"></div>
        </div>
    </header>

    <section class="welcome-section">
        <div class="welcome-message">
            <h2>Добро пожаловать в базу знаний World2040</h2>
            <p>Выберите гайд из списка или используйте строку поиска, чтобы найти интересующую информацию.</p>
        </div>
    </section>

    <script src="Main_Site/assets/css/js/search.js"></script>
    <script>
        // Инициализация: переменные для панели и кнопки
        const sidebar = document.getElementById("sidebar");
        const toggleBtn = document.getElementById("toggle-btn");
        const arrow = document.getElementById("arrow");

        // Переменная для отслеживания состояния панели
        let isSidebarOpen = false;

        // Функция открытия/закрытия панели
        function toggleMenu() {
            if (isSidebarOpen) {
                // Закрыть панель
                sidebar.style.transform = "translateX(-250px)";
                toggleBtn.style.left = "10px"; // Вернуть кнопку к краю экрана
                arrow.innerHTML = "&rarr;"; // Меняем на стрелку вправо
            } else {
                // Открыть панель
                sidebar.style.transform = "translateX(0)";
                toggleBtn.style.left = "250px"; // Сдвинуть кнопку при открытии
                arrow.innerHTML = "&larr;"; // Меняем на стрелку влево
            }
            isSidebarOpen = !isSidebarOpen;
        }

        // Изначально панель скрыта, но кнопку нужно инициализировать корректно
        window.onload = function() {
            sidebar.style.transform = "translateX(-250px)";
            toggleBtn.style.left = "10px"; // Кнопка на краю экрана
            arrow.innerHTML = "&rarr;"; // Установить стрелку вправо
        };

        // Добавляем обработчик события для клавиши Enter
        const searchInput = document.getElementById('search-input');
        searchInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                e.preventDefault();
                const query = this.value.toLowerCase();
                console.log('Выполнен поиск по запросу:', query);
                // Здесь можно добавить дополнительную логику поиска
            }
        });
    </script>
</body>
</html>
